package FLxER.comp {	import flash.display.Sprite;	import flash.geom.Point;	import flash.events.*;	import flash.utils.setInterval;	import flash.utils.clearInterval;	import flash.geom.Rectangle;	import FLxER.main.ButtonRett;	import FLxER.comp.ButtonTxt;	public class SliderCh extends Sprite {		var curs:ButtonTxt;		var path:ButtonRett;		var h:uint;		var fnz:Function;		var myInt:Number;		public function SliderCh(xx:Number,yy:Number,ww:uint,hh:uint,f:Function, alt:String):void {			x = xx;			y = yy;			h = hh;			fnz = f;			path = new ButtonRett(0, 0, ww, hh, pathPress, true, null, .3);			curs = new ButtonTxt(0, 0, ww, 11, 100, myPress, null, alt);			myInt = path.height-curs.height;			this.addChild(path);			this.addChild(curs);			//this.curs.mouseUpAcivation(myRelease);			this.curs.useHandCursor = false;			this.path.useHandCursor = false;		}		function pathPress(p:String):void {			curs.y = (this.mouseY<=myInt ? this.mouseY : myInt);			muovi(0);		}		public function resetta():void {			this.curs.y = 0;			enterFrameHandler(null);		}		public function muovi(a:Number):void {			if (this.curs.y+a>=0 && this.curs.y+a<=h-11){				this.curs.y+=a;				enterFrameHandler(null)			}		}		public function setVal(p:uint):void {			trace("1>>>>>>>>>>>>>>>>>>>> "+p)			curs.lab.text = -int(p-100);			this.curs.y = (-(parseInt(curs.lab.text)-100)/100)*myInt;			trace("2>>>>>>>>>>>>>>>>>>>> "+curs.y)			//curs.y = ((tmp-minVal)/(maxVal-minVal))*myInt;			var tmp = parseInt(curs.lab.text);			fnz(tmp)		}		function enterFrameHandler(event:Event):void {			var tmp = -((this.curs.y/myInt)-1)*100;			this.curs.lab.text = int(tmp);			fnz(tmp);		}		function myPress(a:String):void {			this.curs.startDrag(false, new Rectangle(0, 0, 0, h-11));			stage.addEventListener(Event.ENTER_FRAME, enterFrameHandler)			stage.addEventListener(MouseEvent.MOUSE_UP, myRelease)		}		function myRelease(event:Event):void {			this.curs.stopDrag();			stage.removeEventListener(Event.ENTER_FRAME, enterFrameHandler);			stage.removeEventListener(MouseEvent.MOUSE_UP, myRelease)		}	}}