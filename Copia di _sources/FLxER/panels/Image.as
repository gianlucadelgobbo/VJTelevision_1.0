package FLxER.panels{	import flash.display.Sprite;	import flash.utils.*;	import FLxER.main.Txt;	import FLxER.comp.CheckBoxBase;	import FLxER.comp.SliderColors;	public class Image extends Sprite {		//		var grid:Array		public var hueSlider,satSlider,conSlider,briSlider,thrSlider:SliderColors;		public var thrOnOff:CheckBoxBase;		var myLab1,myLab2,myLab3,myLab4,myLab5:Txt;		public function Image(xx:int,yy:int):void {			this.x = xx;			this.y = yy;			this.myLab1 = new Txt(-1, 0, 0, 0, "Hue", Preferences.pref.th, null);			this.addChild(myLab1);			this.myLab2 = new Txt(-1, 12, 0, 0, "Sat", Preferences.pref.th, null);			this.addChild(myLab2);			this.myLab3 = new Txt(-1, 24, 0, 0, "Con", Preferences.pref.th, null);			this.addChild(myLab3);			this.myLab4 = new Txt(111, 0, 0, 0, "Bri", Preferences.pref.th, null);			this.addChild(myLab4);			this.myLab5 = new Txt(111, 12, 0, 0, "Thr", Preferences.pref.th, null);			this.addChild(myLab5);			this.hueSlider = new SliderColors(18,  0, 93, 11, 0x000000, 0, 0, 360, myShow, "vid", "Y + MOVE X MOUSE");			this.addChild(hueSlider);			this.satSlider = new SliderColors(18, 12, 93, 11, 0x000000, 100, -300, 300, myShow, "vid", "O + MOVE X MOUSE");			this.addChild(satSlider);			this.conSlider = new SliderColors(18, 24, 93, 11, 0x000000, 0, -200, 500, myShow, "vid", "P + MOVE X MOUSE");			this.addChild(conSlider);			this.briSlider = new SliderColors(128,  0, 93, 11, 0x000000, 0, -255, 255, myShow, "vid", "V + SHIFT + MOVE X MOUSE");			this.addChild(briSlider);			this.thrSlider = new SliderColors(140, 12, 81, 11, 0x000000, 128, 0, 255, myShow, "vid", "N + SHIFT + MOVE X MOUSE");			this.addChild(thrSlider);			this.thrOnOff = new CheckBoxBase(128, 12, 11, 11, "THRESHOLD: ", myShow, null, false);			this.addChild(thrOnOff);/*			_root.mdf.td(this, "myLab1", -1, 0, "Hue");			_root.mdf.td(this, "myLab2", -1, 11, "Sat");			_root.mdf.td(this, "myLab3", -1, 22, "");			_root.mdf.td(this, "myLab4", 111, 0, "");			_root.mdf.td(this, "myLab5", 111, 11, "");			_root.myClassedMC(FLxER.comp.sliderColors, this, "hueSlider", {x:18, y:0, w:93, h:10, col:0x000000, myStart:0, maxVal:360, minVal:0, fnzTrgt:this, fnz:"myShow", param:"r,CM,CMT,rb", alt:"Y + MOVE X MOUSE"});			_root.myClassedMC(FLxER.comp.sliderColors, this, "satSlider", {x:18, y:11, w:93, h:10, col:0x000000, myStart:100, maxVal:300, minVal:-300, fnzTrgt:this, fnz:"myShow", param:"g,CM,CMT,gb", alt:"O + MOVE X MOUSE"});			_root.myClassedMC(FLxER.comp.sliderColors, this, "conSlider", {x:18, y:22, w:93, h:10, col:0x000000, myStart:0, maxVal:500, minVal:-200, fnzTrgt:this, fnz:"myShow", param:"b,CM,CMT,bb", alt:"P + MOVE X MOUSE"});			_root.myClassedMC(FLxER.comp.sliderColors, this, "briSlider", {x:128, y:0, w:93, h:10, col:0x000000, myStart:0, maxVal:255, minVal:-255, fnzTrgt:this, fnz:"myShow", param:"rb,CF,CFT,rb", alt:"V + MOVE X MOUSE"});			_root.myClassedMC(FLxER.comp.sliderColors, this, "thrSlider", {x:138, y:11, w:83, h:10, col:0x000000, myStart:128, maxVal:255, minVal:0, fnzTrgt:this, fnz:"myShow", param:"gb,CF,CFT,gb", alt:"N + MOVE X MOUSE"});			_root.myClassedMC(FLxER.comp.checkBox, this, "thrOnOff", {x:128, y:11, w:9, h:9, myStatus:false, fnzTrgt:this, fnz:"myShow", txt:"THRESHOLD: "});			//_root.myClassedMC(FLxER.comp.sliderColors, this, "bconSlider", {x:155, y:22, w:100, h:10, col:0x0000FF, myStart:0, maxVal:255, minVal:0, fnzTrgt:this, fnz:"myShow", param:"bb,CF,CFT,bb", alt:"B + SHIFT + MOVE X MOUSE"});	//*/			//_root.mdf.td(this, "myLab3", 109, 22, "Con");			grid = new Array();			var a:uint;			var b:uint;			for (b=0; b < 4; b++) {				for (a=0; a < 4; a++) {					grid.push(new CheckBoxBase(223+(a*9), b*9, 7, 7, "'", myShow, null, a==b));					//this.addChild(grid["cb_" + b + "" + a]);					//_root.myClassedMC(FLxER.comp.checkBox, this, "cb_" + b + "" + a, {x:223+(a*9), y:(b*9), w:7, h:7, myStatus:(a==b), fnzTrgt:this, fnz:"myShow", txt:"'"});					//this["cb_" + b + "" + a].visible= false					//var n=grid.push(gridButt["cb_" + b + "" + a]);					//grid[n - 1].addEventListener("click",this);				}			}			for (a=0; a < grid.length; a++) {				this.addChild(grid[a]);			}		}		public function resetta():void {			this.parent.change_ch();			this.hueSlider.resetta();			this.satSlider.resetta();			this.conSlider.resetta();			this.briSlider.resetta();			this.thrSlider.resetta();			this.thrOnOff.resetta();			for (var a:uint=0; a < grid.length; a++) {				grid[a].resetta();			}		}		public function calculate():String {			trace("calculate1")			var hue = -parseInt(this.hueSlider.getVal());			trace("calculate2")			var sat = -parseInt(this.satSlider.getVal())/100;			var con = -parseInt(this.conSlider.getVal())/100;			var bri = -parseInt(this.briSlider.getVal());			var thr = (this.thrOnOff.myStatus ? -parseInt(this.thrSlider.getVal()) : "undefined");			trace("calculate3"+grid["cb_00"])			var cr:Number=grid[0].myStatus?1:0 | grid[1].myStatus?2:0 | grid[2].myStatus?4:0 | grid[3].myStatus?8:0;			var cg:Number=grid[4].myStatus?1:0 | grid[5].myStatus?2:0 | grid[6].myStatus?4:0 | grid[7].myStatus?8:0;			var cb:Number=grid[8].myStatus?1:0 | grid[9].myStatus?2:0 | grid[10].myStatus?4:0 | grid[11].myStatus?8:0;			var ca:Number=grid[12].myStatus?1:0 | grid[13].myStatus?2:0 | grid[14].myStatus?4:0 | grid[15].myStatus?8:0;			return (cr+","+cg+","+cb+","+ca+","+hue+","+sat+","+con+","+bri+","+thr);		}		function myShow(pp:String, v:Number):void {			this.parent.change_ch();			var tmp = calculate();			parent.lastLiveAct = ",setMatrix,"+this.parent.ch+","+tmp;			if (parent.monitor.previewStatus) {				parent.monitor.mbuto((getTimer()-Preferences.pref.lastTime)+parent.lastLiveAct);			}			if (parent.outStatus) {				parent.parent.parent.monitor.mbuto((getTimer()-Preferences.pref.lastTime)+parent.lastLiveAct);			} else {				parent.liveA.setMatrix = parent.lastLiveAct;			}		}	}}